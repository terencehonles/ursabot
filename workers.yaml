workers:
  - name: 'dgx1-1'
    arch: 'amd64'
    tags:
      - cuda
    ncpus: 8
    docker:
      host: 'tcp://ursa-dgx1:2375'
      hostconfig:
        network_mode: 'host'
        cpuset_cpus: '0-3,20-23'

  - name: 'dgx1-2'
    arch: 'amd64'
    tags:
      - cuda
    ncpus: 8
    docker:
      host: 'tcp://ursa-dgx1:2375'
      hostconfig:
        network_mode: 'host'
        cpuset_cpus: '4-7,24-27'

  - name: 'dgx1-3'
    arch: 'amd64'
    tags:
      - cuda
    ncpus: 8
    docker:
      host: 'tcp://ursa-dgx1:2375'
      hostconfig:
        network_mode: 'host'
        cpuset_cpus: '8-11,28-31'

  - name: 'dgx1-4'
    arch: 'amd64'
    tags:
      - cuda
    ncpus: 8
    docker:
      host: 'tcp://ursa-dgx1:2375'
      hostconfig:
        network_mode: 'host'
        cpuset_cpus: '12-15,32-35'

  - name: 'dgx1-5'
    arch: 'amd64'
    tags:
      - cuda
    ncpus: 8
    docker:
      host: 'tcp://ursa-dgx1:2375'
      hostconfig:
        network_mode: 'host'
        cpuset_cpus: '16-19,36-39'

  # - name: 'jetson1'
  #   arch: 'arm64v8'
  #   tags:
  #     - cuda
  #   ncpus: 4
  #   max_builds: 1
  #   docker:
  #     host: 'tcp://ursa-jetson1:2375'
  #     hostconfig:
  #       network_mode: 'host'
